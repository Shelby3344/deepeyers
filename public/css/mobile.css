/**
 * ========================================
 * DEEPEYES MOBILE RESPONSIVE STYLES v2.2
 * Mobile-only styles - Desktop unaffected
 * Cyberpunk Pixel Edition
 * ======================================== 
 */

/* ========================================
   HIDE MOBILE ELEMENTS ON DESKTOP
   ======================================== */
@media (min-width: 1024px) {
    #mobileMenuBtn {
        display: none !important;
    }
    
    #closeSidebarBtn {
        display: none !important;
    }
    
    #mobileOverlay {
        display: none !important;
    }
}

/* ========================================
   MOBILE STYLES (max-width: 1023px)
   ======================================== */
@media (max-width: 1023px) {
    /* Prevent horizontal scroll */
    html, body {
        overflow-x: hidden;
        width: 100%;
    }
    
    /* Touch-friendly tap targets */
    button, a, .clickable {
        min-height: 44px;
    }
    
    /* Prevent iOS zoom on input focus */
    input, select, textarea {
        font-size: 16px !important;
    }
}


/* ========================================
   SIDEBAR MOBILE - CYBER STYLE
   ======================================== */
@media (max-width: 1023px) {
    #sidebar, .de-sidebar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        bottom: 0 !important;
        width: 85vw !important;
        max-width: 300px !important;
        z-index: 1000 !important;
        transform: translateX(-100%) !important;
        transition: transform 0.3s ease !important;
        background: linear-gradient(180deg, #0a0a0f 0%, #0d1117 100%) !important;
        overflow-y: auto !important;
        border-right: 1px solid rgba(0, 255, 136, 0.2) !important;
    }
    
    #sidebar.mobile-open, .de-sidebar.mobile-open {
        transform: translateX(0) !important;
        box-shadow: 0 0 40px rgba(0, 255, 136, 0.1) !important;
    }
    
    #mobileOverlay {
        position: fixed !important;
        inset: 0 !important;
        background: rgba(0, 0, 0, 0.9) !important;
        backdrop-filter: blur(4px) !important;
        z-index: 999 !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
        pointer-events: none !important;
    }
    
    #mobileOverlay.active {
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
    }
    
    #mobileMenuBtn {
        display: flex !important;
        position: fixed !important;
        top: 12px !important;
        left: 12px !important;
        z-index: 100 !important;
        width: 44px !important;
        height: 44px !important;
        align-items: center !important;
        justify-content: center !important;
        background: rgba(10, 10, 15, 0.95) !important;
        border: 1px solid rgba(0, 255, 136, 0.3) !important;
        color: #00FF88 !important;
        clip-path: polygon(0 4px, 4px 4px, 4px 0, calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px, 100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px), calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px), 0 calc(100% - 4px)) !important;
        border-radius: 0 !important;
    }
    
    #closeSidebarBtn {
        display: flex !important;
    }
    
    #mainContent, main {
        width: 100% !important;
        margin-left: 0 !important;
    }
}


/* ========================================
   CHAT MESSAGES MOBILE
   ======================================== */
@media (max-width: 1023px) {
    #chatContainer {
        padding: 12px !important;
    }
    
    #messagesContainer {
        gap: 12px !important;
    }
    
    #messagesContainer > div {
        gap: 8px !important;
    }
    
    /* Message bubbles */
    #messagesContainer .max-w-3xl {
        max-width: calc(100% - 44px) !important;
        padding: 10px 12px !important;
    }
    
    /* Avatars */
    #messagesContainer .w-10 {
        width: 32px !important;
        height: 32px !important;
        min-width: 32px !important;
    }
    
    #messagesContainer .w-10 img {
        width: 24px !important;
        height: 24px !important;
    }
    
    /* Message content */
    .message-content {
        font-size: 14px !important;
        word-wrap: break-word !important;
    }
    
    .message-content pre {
        font-size: 11px !important;
        padding: 10px !important;
        overflow-x: auto !important;
    }
    
    .message-content code {
        font-size: 12px !important;
    }
    
    .code-block-header {
        padding: 6px 10px !important;
    }
    
    .code-block-lang {
        font-size: 9px !important;
    }
}


/* ========================================
   CHAT INPUT MOBILE - CYBER STYLE
   ======================================== */
@media (max-width: 1023px) {
    #chatInputArea {
        padding: 8px 12px 12px !important;
    }
    
    #chatInputArea .max-w-4xl {
        max-width: 100% !important;
    }
    
    #inputContainer {
        padding: 8px 10px !important;
        clip-path: polygon(0 6px, 6px 6px, 6px 0, calc(100% - 6px) 0, calc(100% - 6px) 6px, 100% 6px, 100% calc(100% - 6px), calc(100% - 6px) calc(100% - 6px), calc(100% - 6px) 100%, 6px 100%, 6px calc(100% - 6px), 0 calc(100% - 6px)) !important;
        border-radius: 0 !important;
    }
    
    #messageInput {
        font-size: 16px !important;
        min-height: 40px !important;
    }
    
    #sendBtn, #cancelBtn, #attachBtn {
        width: 40px !important;
        height: 40px !important;
        min-width: 40px !important;
        clip-path: polygon(0 4px, 4px 4px, 4px 0, calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px, 100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px), calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px), 0 calc(100% - 4px)) !important;
        border-radius: 0 !important;
    }
    
    /* Hide keyboard hints */
    #inputContainer .border-t {
        display: none !important;
    }
}

/* ========================================
   WELCOME SCREEN MOBILE
   ======================================== */
@media (max-width: 1023px) {
    #homeWelcome {
        padding: 16px !important;
        padding-top: 64px !important;
    }
    
    #homeWelcome h3 {
        font-size: 1.25rem !important;
    }
    
    #homeWelcome > .relative img {
        height: 64px !important;
    }
    
    #homeWelcome .grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 10px !important;
    }
    
    .blob-card {
        padding: 12px !important;
    }
    
    #currentProfileCard {
        max-width: 100% !important;
    }
    
    #welcomeProfileFeatures {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 4px !important;
    }
}


/* ========================================
   ATTACK MODE & TOOLS MOBILE
   ======================================== */
@media (max-width: 1023px) {
    #sidebar .grid-cols-3:first-of-type {
        grid-template-columns: 1fr !important;
        gap: 6px !important;
    }
    
    .attack-mode {
        flex-direction: row !important;
        justify-content: flex-start !important;
        padding: 10px 14px !important;
        gap: 10px !important;
    }
}

/* ========================================
   MODALS MOBILE - CYBER STYLE
   ======================================== */
@media (max-width: 1023px) {
    #authModal .max-w-md,
    #deleteModal .max-w-sm,
    #domainModal .max-w-md,
    #templatesModal .max-w-2xl,
    #payloadModal .max-w-lg,
    #checklistModal .max-w-2xl,
    #exportModal .max-w-md,
    #nmapModal .max-w-lg,
    #wordlistModal .max-w-2xl {
        max-width: calc(100vw - 24px) !important;
        max-height: calc(100vh - 24px) !important;
        margin: 12px !important;
        overflow-y: auto !important;
        border-radius: 0 !important;
    }
    
    #authModal h1 {
        font-size: 1.25rem !important;
    }
    
    #authModal img {
        height: 56px !important;
    }
    
    /* Cyber modal corners on mobile */
    .cyber-modal {
        clip-path: polygon(0 8px, 8px 8px, 8px 0, calc(100% - 8px) 0, calc(100% - 8px) 8px, 100% 8px, 100% calc(100% - 8px), calc(100% - 8px) calc(100% - 8px), calc(100% - 8px) 100%, 8px 100%, 8px calc(100% - 8px), 0 calc(100% - 8px)) !important;
    }
}

/* ========================================
   SESSION HEADER & BETA BANNER
   ======================================== */
@media (max-width: 1023px) {
    #sessionHeader {
        padding-left: 64px !important;
    }
    
    #betaBanner {
        padding-left: 60px !important;
    }
}

/* ========================================
   TYPING INDICATOR MOBILE
   ======================================== */
@media (max-width: 1023px) {
    #typingIndicator {
        margin: 8px 12px !important;
    }
    
    .ai-brain, .ai-spinner {
        width: 28px !important;
        height: 28px !important;
    }
}


/* ========================================
   SESSIONS LIST & USER INFO MOBILE
   ======================================== */
@media (max-width: 1023px) {
    .sidebar-item {
        padding: 12px 10px !important;
    }
    
    .delete-session-btn {
        opacity: 1 !important;
    }
    
    #userInfo {
        padding: 10px 12px !important;
    }
    
    #userAvatarLink {
        width: 36px !important;
        height: 36px !important;
    }
}

/* ========================================
   SAFE AREA (iPhone notch)
   ======================================== */
@supports (padding: max(0px)) {
    @media (max-width: 1023px) {
        #chatInputArea {
            padding-bottom: max(12px, env(safe-area-inset-bottom)) !important;
        }
        
        #mobileMenuBtn {
            top: max(12px, calc(env(safe-area-inset-top) + 8px)) !important;
        }
    }
}

/* ========================================
   SMALL PHONES (< 380px)
   ======================================== */
@media (max-width: 380px) {
    #homeWelcome h3 {
        font-size: 1.1rem !important;
    }
    
    #homeWelcome > .relative img {
        height: 56px !important;
    }
    
    #messagesContainer .max-w-3xl {
        max-width: calc(100% - 36px) !important;
        padding: 8px 10px !important;
    }
    
    #messagesContainer .w-10 {
        width: 28px !important;
        height: 28px !important;
        min-width: 28px !important;
    }
}

/* ========================================
   LANDSCAPE MOBILE
   ======================================== */
@media (max-height: 500px) and (orientation: landscape) {
    #homeWelcome {
        padding-top: 50px !important;
    }
    
    #homeWelcome > .relative img {
        height: 40px !important;
    }
}